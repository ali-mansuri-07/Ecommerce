"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[976],{98189:function(t,n,r){var e=r(1413),a=r(29439),s=r(72791),c=r(83833),u=r(14598),i=r(24215),o=r(86533),l=r(68823),p=r(91523),d=r(50538),h=r(763),f=r.n(h),x=r(59434),m=r(80184),g=c.Z.Meta;n.Z=function(t){var n=t.product,r=(0,s.useState)("Click to add"),h=(0,a.Z)(r,2),Z=h[0],v=h[1],b=(0,x.v9)((function(t){return(0,e.Z)({},t)})),j=(b.user,b.cart,(0,x.I0)()),w=n.images,k=n.title,y=n.description,N=n.slug,S=n.price;return(0,m.jsxs)(m.Fragment,{children:[n&&n.ratings&&n.ratings.length>0?(0,d.m)(n):(0,m.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),(0,m.jsx)(c.Z,{cover:(0,m.jsx)("img",{src:w&&w.length?w[0].url:l,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[(0,m.jsxs)(p.rU,{to:"/product/".concat(N),children:[(0,m.jsx)(i.Z,{className:"text-warning"})," ",(0,m.jsx)("br",{})," View Product"]}),(0,m.jsx)(u.Z,{title:Z,children:(0,m.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,e.Z)((0,e.Z)({},n),{},{count:1}));var r=f().uniqWith(t,f().isEqual);localStorage.setItem("cart",JSON.stringify(r)),v("Added"),j({type:"ADD_TO_CART",payload:r}),j({type:"SET_VISIBLE",payload:!0})}},disabled:n.quantity<1,children:[(0,m.jsx)(o.Z,{className:"text-danger"})," ",(0,m.jsx)("br",{}),n.quantity<1?"Out of stock":"Add to Cart"]})})],children:(0,m.jsx)(g,{title:"".concat(k," - $").concat(S),description:"".concat(y&&y.substring(0,40),"...")})})]})}},57027:function(t,n,r){r.d(n,{Ej:function(){return f},RB:function(){return m},Xp:function(){return d},Y2:function(){return h},cE:function(){return x},kh:function(){return o},nM:function(){return p},ry:function(){return u},su:function(){return i},wv:function(){return l}});var e=r(74165),a=r(15861),s=r(74569),c=r.n(s),u=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/product"),n,{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/products/").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().delete("".concat("http://localhost:8000/api","/product/").concat(n),{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/product/").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r,a){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("".concat("http://localhost:8000/api","/product/").concat(n),r,{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r,a){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/products"),{sort:n,order:r,page:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/products/total"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r,a){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("".concat("http://localhost:8000/api","/product/star/").concat(n),{star:r},{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/product/related/").concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/search/filters"),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},50538:function(t,n,r){r.d(n,{m:function(){return s}});r(72791);var e=r(45778),a=r(80184),s=function(t){if(t&&t.ratings){var n=t&&t.ratings,r=[],s=n.length;n.map((function(t){return r.push(t.star)}));var c=r.reduce((function(t,n){return t+n}),0),u=5*c/(5*s);return(0,a.jsx)("div",{className:"text-center pt-1 pb-3",children:(0,a.jsx)("span",{children:(0,a.jsx)(e.Z,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",rating:u,editing:!1})})})}}},60377:function(t,n,r){r.d(n,{E9:function(){return u},Ih:function(){return x},JM:function(){return l},LV:function(){return d},Mp:function(){return m},WK:function(){return i},cU:function(){return g},gl:function(){return o},sA:function(){return f},uI:function(){return h},zL:function(){return p}});var e=r(74165),a=r(15861),s=r(74569),c=r.n(s),u=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/cart"),{cart:n},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/cart"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().delete("".concat("http://localhost:8000/api","/user/cart"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/address"),{address:r},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/cart/coupon"),{coupon:r},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/order"),{stripeResponse:n},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/orders"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("http://localhost:8000/api","/user/wishlist"),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),x=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("".concat("http://localhost:8000/api","/user/wishlist/").concat(n),{},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/wishlist"),{productId:n},{headers:{authtoken:r}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n,r,a){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().post("".concat("http://localhost:8000/api","/user/cash-order"),{couponApplied:a,COD:r},{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,r,e){return t.apply(this,arguments)}}()},72368:function(t,n,r){r.r(n),r.d(n,{default:function(){return O}});var e=r(1413),a=r(29439),s=r(72791),c=r(57027),u=r(14533),i=r(83833),o=r(14598),l=r(86533),p=r(47391),d=r(30197),h=(r(88040),r(68823)),f=r(91523),x=r(80184),m=function(t){var n=t.product,r=n.price,e=n.category,a=n.subs,s=n.shipping,c=n.color,u=n.brand,i=n.quantity,o=n.sold;return(0,x.jsxs)("ul",{className:"list-group",children:[(0,x.jsxs)("li",{className:"list-group-item",children:["Price"," ",(0,x.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",r]})]}),e&&(0,x.jsxs)("li",{className:"list-group-item",children:["Category"," ",(0,x.jsx)(f.rU,{to:"/category/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name})]}),a&&(0,x.jsxs)("li",{className:"list-group-item",children:["Sub Categories",a.map((function(t){return(0,x.jsx)(f.rU,{to:"/sub/".concat(t.slug),className:"label label-default label-pill pull-xs-right",children:t.name},t._id)}))]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Color"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:c})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Brand"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:u})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Available"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),(0,x.jsxs)("li",{className:"list-group-item",children:["Sold"," ",(0,x.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]})]})},g=r(45778),Z=r(39652),v=r(9085),b=r(59434),j=r(80740),w=r(28931),k=function(t){var n=t.children,r=(0,b.v9)((function(t){return(0,e.Z)({},t)})).user,c=(0,s.useState)(!1),u=(0,a.Z)(c,2),i=u[0],o=u[1],l=(0,w.k6)(),p=(0,w.UO)().slug;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{onClick:function(){r&&r.token?o(!0):l.push({pathname:"/login",state:{from:"/product/".concat(p)}})},children:[(0,x.jsx)(j.Z,{className:"text-danger"})," ",(0,x.jsx)("br",{})," ",r?"Leave rating":"Login to leave rating"]}),(0,x.jsx)(Z.Z,{title:"Leave your rating",centered:!0,visible:i,onOk:function(){o(!1),v.Am.success("Thanks for your review. It will apper soon")},onCancel:function(){return o(!1)},children:n})]})},y=r(50538),N=r(763),S=r.n(N),C=r(60377),I=u.Z.TabPane,A=function(t){var n=t.product,r=t.onStarClick,c=t.star,f=(0,s.useState)("Click to add"),Z=(0,a.Z)(f,2),j=Z[0],N=Z[1],A=(0,b.v9)((function(t){return(0,e.Z)({},t)})),E=A.user,O=(A.cart,(0,b.I0)()),_=(0,w.k6)(),D=n.title,T=n.images,q=n.description,L=n._id;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-7",children:[T&&T.length?(0,x.jsx)(d.lr,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:T&&T.map((function(t){return(0,x.jsx)("img",{src:t.url},t.public_id)}))}):(0,x.jsx)(i.Z,{cover:(0,x.jsx)("img",{src:h,className:"mb-3 card-image"})}),(0,x.jsxs)(u.Z,{type:"card",children:[(0,x.jsx)(I,{tab:"Description",children:q&&q},"1"),(0,x.jsx)(I,{tab:"More",children:"Call use on xxxx xxx xxx to learn more about this product."},"2")]})]}),(0,x.jsxs)("div",{className:"col-md-5",children:[(0,x.jsx)("h1",{className:"bg-info p-3",children:D}),n&&n.ratings&&n.ratings.length>0?(0,y.m)(n):(0,x.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),(0,x.jsx)(i.Z,{actions:[(0,x.jsx)(o.Z,{placement:"top",title:j,children:(0,x.jsxs)("a",{onClick:function(){var t=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push((0,e.Z)((0,e.Z)({},n),{},{count:1}));var r=S().uniqWith(t,S().isEqual);localStorage.setItem("cart",JSON.stringify(r)),N("Added"),O({type:"ADD_TO_CART",payload:r}),O({type:"SET_VISIBLE",payload:!0})}},disabled:n.quantity<1,children:[(0,x.jsx)(l.Z,{className:"text-danger"}),(0,x.jsx)("br",{}),n.quantity<1?"Out of Stock":"Add To Cart"]})}),(0,x.jsxs)("a",{onClick:function(t){t.preventDefault(),(0,C.Mp)(n._id,E.token).then((function(t){console.log("ADDED TO WISHLIST",t.data),v.Am.success("Added to wishlist"),_.push("/user/wishlist")}))},children:[(0,x.jsx)(p.Z,{className:"text-info"})," ",(0,x.jsx)("br",{})," Add to Wishlist"]}),(0,x.jsx)(k,{children:(0,x.jsx)(g.Z,{name:L,numberOfStars:5,rating:c,changeRating:r,isSelectable:!0,starRatedColor:"red"})})],children:(0,x.jsx)(m,{product:n})})]})]})},E=r(98189),O=function(t){var n=t.match,r=(0,s.useState)({}),u=(0,a.Z)(r,2),i=u[0],o=u[1],l=(0,s.useState)([]),p=(0,a.Z)(l,2),d=p[0],h=p[1],f=(0,s.useState)(0),m=(0,a.Z)(f,2),g=m[0],Z=m[1],v=(0,b.v9)((function(t){return(0,e.Z)({},t)})).user,j=n.params.slug;(0,s.useEffect)((function(){w()}),[j]),(0,s.useEffect)((function(){if(i.ratings&&v){var t=i.ratings.find((function(t){return t.postedBy.toString()===v._id.toString()}));t&&Z(t.star)}}));var w=function(){(0,c.wv)(j).then((function(t){o(t.data),(0,c.cE)(t.data._id).then((function(t){return h(t.data)}))}))};return(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)("div",{className:"row pt-4",children:(0,x.jsx)(A,{product:i,onStarClick:function(t,n){Z(t),console.table(t,n),(0,c.Ej)(n,t,v.token).then((function(t){console.log("rating clicked",t.data),w()}))},star:g})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[(0,x.jsx)("hr",{}),(0,x.jsx)("h4",{children:"Related Products"}),(0,x.jsx)("hr",{})]})}),(0,x.jsx)("div",{className:"row pb-5",children:d.length?d.map((function(t){return(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)(E.Z,{product:t})},t._id)})):(0,x.jsx)("div",{className:"text-center col",children:"No Products Found"})})]})}},68823:function(t,n,r){t.exports=r.p+"static/media/laptop.d70fd72a362501f69261.png"}}]);
//# sourceMappingURL=976.e2ac98d9.chunk.js.map